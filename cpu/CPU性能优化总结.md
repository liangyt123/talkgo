# 选择维度
CPU使用率
应用程序延时，吞吐量
# 瓶颈处理
二八法则
不要过早优化
优化是有成本的，看具体情况
第一，如果发现是系统资源达到了瓶颈，比如 CPU 使用率达到了 100%，那么首先优化的一定是系统资源使用问题。完成系统资源瓶颈的优化后，我们才要考虑其他问题。
第二，针对不同类型的指标，首先去优化那些由瓶颈导致的，性能指标变化幅度最大的问题。比如产生瓶颈后，用户 CPU 使用率升高了 10%，而系统 CPU 使用率却升高了 50%，这个时候就应该首先优化系统 CPU 的使用。

# CPU优化
降低CPU使用率 提高CPU并行能力
## 应用优化
编译器，-o2
算法,nlog
异步处理,轮训变为事件通知
多线程代替多进程，降低上下文切换成本
善用缓存
## 系统优化
CPU绑定
CPU独占
优先级调整
使用Linux cgroup设置CPU使用上限
NUMA优化，使CPU尽可能访问本地内存
中断负载均衡，irqbalance中断负载多个CPU
